function hdl = neuRoiGui()
hdl.mainFig= figure('Position',[80,300,550,600],'Resize','off');
set(hdl.mainFig,'MenuBar','none');
set(hdl.mainFig,'ToolBar','none');
set(hdl.mainFig,'Name','neuRoi','NumberTitle','off');

hdl.loadRangeHeadline = uicontrol(hdl.mainFig,'Style','text',...
                             'String','Load range',...
                             'Position', [25 525 100 50],...
                             'FontWeight','bold');

hdl.loadRangeGroup = uibuttongroup('Units','pixels',...
                                   'Position', [25 450 150 100]);

hdl.loadRangeButton1 = uicontrol(hdl.loadRangeGroup,...
                                 'Style','radiobutton',...
                                 'String','Load all',...
                                 'Value',1,...
                                 'Tag','loadrange_radiobutton_1',...
                                 'Position',[0 50 100 20]);

hdl.loadRangeButton2 = uicontrol(hdl.loadRangeGroup,...
                                 'Style','radiobutton',...
                                 'String','From',...
                                 'Value',0,...
                                 'Tag','loadrange_radiobutton_2',...
                                 'Position',[0 0 100 20]);

hdl.loadRangeStartText = uicontrol(hdl.mainFig,...
                                   'Style','edit',...
                                   'String','1',...
                                   'Tag','loadrange_start_text',...
                                   'Position',[80 450 30 25]);

hdl.loadRangeToHeadline = uicontrol(hdl.mainFig,...
                               'Style','text',...
                               'String','to',...
                               'Position',[110 450 15 25]);

hdl.loadRangeEndText = uicontrol(hdl.mainFig,...
                                 'Style','edit',...
                                 'String','100',...
                                 'Tag','loadrange_end_text',...
                                 'Position',[130 450 30 25]);

hdl.loadStepHeadline = uicontrol(hdl.mainFig,...
                                 'Style','text',...
                                 'String','# frame per step',...
                                 'Position',[10 400 150 25]);

hdl.loadStepText = uicontrol(hdl.mainFig,...
                             'Style','edit',...
                             'String','1',...
                             'Position',[140 400 30 25]);

hdl.fileListBox = uicontrol(hdl.mainFig,...
                            'Style','listbox',...
                            'Position',[200 375 300 200],...
                            'FontSize',16);


% dF/F map
hdl.responseMapHeadline = uicontrol(hdl.mainFig,...
                                    'Style','text',...
                                    'String','dF/F Map Options',...
                                    'Position',[10 330 150 25],...
                                    'FontWeight','bold');
responseHPos = 310;

hdl.resIntensityOffsetHead = uicontrol(hdl.mainFig,...
                                    'Style','text',...
                                    'String','offset',...
                                    'Position',[10 responseHPos 50 25]);
                          
hdl.resIntensityOffsetText = uicontrol(hdl.mainFig,...
                               'Style','edit',...
                               'String','-30',...
                               'Position',[60 responseHPos 30 25]);

hdl.resFZeroHead = uicontrol(hdl.mainFig,...
                          'Style','text',...
                          'String','F0 window',...
                          'Position',[90 responseHPos 80 25]);

hdl.resFZeroStartText = uicontrol(hdl.mainFig,...
                               'Style','edit',...
                               'String','1',...
                               'Tag','resFZero_start_text',...
                               'Position',[180 responseHPos 30 25]);

hdl.resFZeroToHeadline = uicontrol(hdl.mainFig,...
                                'Style','text',...
                                'String','to',...
                                'Position',[220 responseHPos 15 25]);

hdl.resFZeroEndText = uicontrol(hdl.mainFig,...
                             'Style','edit',...
                             'String','100',...
                             'Tag','resFZero_end_text',...
                             'Position',[240 responseHPos 30 25]);

hdl.responseWindowHead = uicontrol(hdl.mainFig,...
                          'Style','text',...
                          'String','dF window',...
                          'Position',[280 responseHPos 80 25]);

hdl.responseStartText = uicontrol(hdl.mainFig,...
                               'Style','edit',...
                               'String','1',...
                               'Tag','response_start_text',...
                               'Position',[370 responseHPos 30 25]);

hdl.responseToHeadline = uicontrol(hdl.mainFig,...
                                'Style','text',...
                                'String','to',...
                                'Position',[410 responseHPos 15 25]);

hdl.responseEndText = uicontrol(hdl.mainFig,...
                             'Style','edit',...
                             'String','100',...
                             'Tag','response_end_text',...
                             'Position',[440 responseHPos 30 25]);

hdl.addResponseMapButton = uicontrol(hdl.mainFig,...
                                     'String','add dF/F map',...
                                     'Tag','addMapButton_response',...
                                     'Position',[10 responseHPos-35 100 35]);

hdl.updateResponseMapButton = uicontrol(hdl.mainFig,...
                                     'String','update dF/F map',...
                                     'Tag','updateMapButton_response',...
                                     'Position',[150 responseHPos-35 100 35]);


% max dF/F map
rmaxHPos = 220;
hdl.responseMaxMapHeadline = uicontrol(hdl.mainFig,...
                                    'Style','text',...
                                    'String','Max dF/F Map Options',...
                                    'Position',[10 rmaxHPos+20 180 25],...
                                    'FontWeight','bold');

hdl.rmaxIntensityOffsetHead = uicontrol(hdl.mainFig,...
                                    'Style','text',...
                                    'String','offset',...
                                    'Position',[10 rmaxHPos 50 25]);
                          
hdl.rmaxIntensityOffsetText = uicontrol(hdl.mainFig,...
                               'Style','edit',...
                               'String','-30',...
                               'Position',[60 rmaxHPos 30 25]);

hdl.rmaxFZeroHead = uicontrol(hdl.mainFig,...
                          'Style','text',...
                          'String','F0 window',...
                          'Position',[90 rmaxHPos 80 25]);

hdl.rmaxFZeroStartText = uicontrol(hdl.mainFig,...
                               'Style','edit',...
                               'String','1',...
                               'Tag','rmaxFZero_start_text',...
                               'Position',[180 rmaxHPos 30 25]);

hdl.rmaxFZeroToHeadline = uicontrol(hdl.mainFig,...
                                'Style','text',...
                                'String','to',...
                                'Position',[220 rmaxHPos 15 25]);

hdl.rmaxFZeroEndText = uicontrol(hdl.mainFig,...
                             'Style','edit',...
                             'String','100',...
                             'Tag','rmaxFZero_end_text',...
                             'Position',[240 rmaxHPos 30 25]);

hdl.rmaxSlidingWindowHead = uicontrol(hdl.mainFig,...
                          'Style','text',...
                          'String','sliding window size',...
                          'Position',[280 rmaxHPos 120 25]);

hdl.rmaxSlidingWindowText = uicontrol(hdl.mainFig,...
                               'Style','edit',...
                               'String','1',...
                               'Position',[400 rmaxHPos 30 25]);

% inCremcfg.ButtonSide = 'left';
% inCremcfg.ButtonWidth = 'half';
% inCremcfg.Position = 'default';
% inCremcfg.Range = [1,inf];
% hdl.rmaxSlidingWindowInc = helper.incrementdecrement(hdl.rmaxSlidingWindowText,...
%                                                   inCremcfg,...
%                                                   hdl.mainFig,'Units','points',...
%                                                   'Position', [0 0 20 20]);

hdl.addResponseMaxMapButton = uicontrol(hdl.mainFig,...
                                     'String','add max dF/F map',...
                                     'Tag','addMapButton_responseMax',...
                                     'Position',[10 rmaxHPos-35 100 35]);

hdl.updateResponseMaxMapButton = uicontrol(hdl.mainFig,...
                                     'String','update max dF/F map',...
                                     'Tag','updateMapButton_responseMax',...
                                     'Position',[150 rmaxHPos-35 100 35]);

lftHPos = 0;
hdl.loadFileTypeHeadline = uicontrol(hdl.mainFig,...
                                 'Style','text',...
                                 'String','Load file type',...
                                 'Position',[10 lftHPos+150 150 25]);

hdl.loadFileTypeGroup = uibuttongroup('Units','pixels',...
                                   'Position', [25 lftHPos+50 150 100]);

hdl.loadFileTypeRadio1 = uicontrol(hdl.loadFileTypeGroup,...
                                 'Style','radiobutton',...
                                 'String','Binned',...
                                 'Value',1,...
                                 'Tag','loadfiletype_radio_1',...
                                 'Position',[0 50 100 20]);

hdl.loadFileTypeRadio2 = uicontrol(hdl.loadFileTypeGroup,...
                                 'Style','radiobutton',...
                                 'String','Raw',...
                                 'Value',0,...
                                 'Tag','loadfiletype_radio_2',...
                                 'Position',[0 0 100 20]);

hdl.planeNumHeadline = uicontrol(hdl.mainFig,...
                                 'Style','text',...
                                 'String','Plane no.',...
                                 'Position',[10 370 150 25]);

hdl.planeNumText = uicontrol(hdl.mainFig,...
                             'Style','edit',...
                             'String','1',...
                             'Position',[140 370 30 25]);




